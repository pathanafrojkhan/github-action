name: Github-action-Demo
on: push
  
jobs:
  first-job:
    runs-on: ubuntu-latest  
    steps:
    - uses: actions/checkout@v2
    - run: mkdir -p path/to/artifact
#     - run: echo hello > path/to/artifact/world.txt
#     - uses: actions/upload-artifact@v2
#       with:
#         name: my-artifact
#         path: path/to/artifact/world.txt
    - name: Cache node modules
      uses: actions/cache@v2
      env:
        cache-name: cache-node-modules
      with:
        name: my-artifact
        path: path/to/artifact/world.txt
        key: ${{ runner.os }}-build-${{ env.cache-name }}-${{ hashFiles('**/package-lock.json') }}
        restore-keys: |
          ${{ runner.os }}-build-${{ env.cache-name }}-
          ${{ runner.os }}-build-
          ${{ runner.os }}-

  second-job:
    needs: first-job
    runs-on: ubuntu-latest
    steps:
#     - uses: actions/checkout@v2
#     - uses: actions/download-artifact@v2
#       with:
#         name: my-artifact
    - name: Cache Primes
      id: cache-primes
      uses: actions/cache@v2
      with:
        path: prime-numbers
        key: ${{ runner.os }}-primes

    - name: Generate Prime Numbers
      if: steps.cache-primes.outputs.cache-hit != 'true'
      run: /generate-primes.sh -d prime-numbe
